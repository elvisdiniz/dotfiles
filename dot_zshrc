export ZSH="$HOME/.oh-my-zsh"

ZSH_CUSTOM="$HOME/.zsh"

HIST_STAMPS="yyyy-mm-dd"

zstyle ':omz:update' mode disabled

source $HOME/.zsh/lib/is-ssh.sh

plugins=(
    fzf-tab
    zsh-syntax-highlighting
    zsh-autosuggestions
    asdf
    history
    sudo
)

source $ZSH/oh-my-zsh.sh

[[ ! -f ~/.shell/paths.zsh ]] || source ~/.shell/paths.zsh
[[ ! -f ~/.shell/envs.zsh ]] || source ~/.shell/envs.zsh
[[ ! -f ~/.shell/aliases.zsh ]] || source ~/.shell/aliases.zsh

[[ ! -f ~/.zsh/keybindings.zsh ]] || source ~/.zsh/keybindings.zsh
[[ ! -f ~/.zsh/plugins.zsh ]] || source ~/.zsh/plugins.zsh

eval "$(starship init zsh)"

# Configure fzf-tab
# disable sort when completing `git checkout`
zstyle ':completion:*:git-checkout:*' sort false
# set descriptions format to enable group support
# NOTE: don't use escape sequences here, fzf-tab will ignore them
zstyle ':completion:*:descriptions' format '[%d]'
# set list-colors to enable filename colorizing
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}
# force zsh not to show completion menu, which allows fzf-tab to capture the unambiguous prefix
zstyle ':completion:*' menu no
# preview directory's content with eza when completing cd
zstyle ':fzf-tab:complete:cd:*' fzf-preview 'eza -1 --color=always $realpath'
# switch group using `<` and `>`
zstyle ':fzf-tab:*' switch-group '<' '>'
